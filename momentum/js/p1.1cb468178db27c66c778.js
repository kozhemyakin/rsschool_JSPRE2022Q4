(()=>{"use strict";const e=[{title:"Aqua Caelestis",src:"./assets/sounds/Aqua Caelestis.mp3",duration:"00:58"},{title:"River Flows In You",src:"./assets/sounds/River Flows In You.mp3",duration:"03:50"}];let t;function n(){const e=(new Date).toLocaleDateString("en-En",{weekday:"long",month:"long",day:"numeric"});document.querySelector(".date").textContent=e}window.addEventListener("load",(()=>{m(),function(e,t){for(const[n,o]of Object.entries(t.en))if(n===e)return document.querySelector(".greeting").textContent=t.en[`${e}`]}(o(),C),n()})),function e(){const t=(new Date).toLocaleTimeString();document.querySelector(".time").textContent=t,setTimeout(e,1e3),setTimeout(n,36e3)}();const o=()=>{const e=(new Date).getHours();return e<12?"morning":e<17?"afternoon":e<20?"evening":"night"},a=document.querySelector(".name");a.value=localStorage.getItem("name"),document.querySelector(".name").addEventListener("input",(function(){localStorage.setItem("name",a.value.trim())})),((e,t)=>{const n=new Image;n.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${t}.jpg`,n.onload=()=>{document.body.style.backgroundImage=`url(${n.src})`}})(o(),(20,t=1+Math.floor(20*Math.random()),t<10?"0"+t:t)),document.querySelector(".slide-prev").addEventListener("click",(function(){getLinkToImage(o())})),document.querySelector(".slide-next").addEventListener("click",(function(){getLinkToImage(o())}));const c=document.querySelector(".weather-icon"),r=document.querySelector(".temperature"),s=document.querySelector(".weather-description"),i=document.querySelector(".wind"),u=document.querySelector(".humidity");let l="https://api.openweathermap.org/data/2.5/weather?q=Minsk,BY&lang=en&appid=08f2a575dda978b9c539199e54df03b0&units=metric";async function d(e){const t=await fetch(e),n=await t.json();c.className="weather-icon owf";try{c.classList.add(`owf-${n.weather[0].id}`),r.textContent=`${Math.round(n.main.temp)}°C`,s.textContent=n.weather[0].description,i.textContent=n.wind.speed+" m/s",u.textContent=n.main.humidity+" %"}catch(e){r.classList.add("weather-error"),r.textContent="City name is incorrect!!",s.textContent="",i.textContent="",u.textContent=""}}d(l),document.querySelector(".city").addEventListener("change",(()=>{let e=document.querySelector(".city");l=""===e.value?"https://api.openweathermap.org/data/2.5/weather?q=Minsk&lang=en&appid=08f2a575dda978b9c539199e54df03b0&units=metric":`https://api.openweathermap.org/data/2.5/weather?q=${e.value}&lang=en&appid=08f2a575dda978b9c539199e54df03b0&units=metric`,d(l)}));const m=async()=>{const e=await fetch("./assets/quotesOfTheDay/data.json"),t=await e.json(),n=1+Math.floor(Math.random()*t.quotes.length-1);document.querySelector(".quote").textContent=t.quotes[`${n}`].text,document.querySelector(".author").textContent=t.quotes[`${n}`].author};document.querySelector(".change-quote").addEventListener("click",m);let g=0;const h=document.querySelector(".play"),p=document.querySelector(".play-prev"),y=document.querySelector(".play-next");function q(){h.classList.toggle("pause")}p.addEventListener("click",(function(){g--,g<0&&(g=e.length-1),h.classList.contains("pause")||q(),L.src=e[g].src,L.play(),v()})),y.addEventListener("click",(function(){g++,g>e.length-1&&(g=0),h.classList.contains("pause")||q(),L.src=e[g].src,L.play(),v()}));const f=document.querySelector(".play-list");e.forEach((e=>{const t=document.createElement("li");t.classList.add("play-item"),t.textContent=`${e.title} ${e.duration}`,f.append(t)}));const w=document.querySelector("ul > li:nth-child(1)"),S=document.querySelector("ul > li:nth-child(2)");function v(){w.classList.toggle("item-active"),S.classList.toggle("item-active")}w.classList.add("item-active");const L=new Audio;h.addEventListener("click",(function(){h.classList.contains("pause")?L.pause():(L.src=e[g].src,L.currentTime=0,L.play()),q()}));const C={en:{morning:"Good morning",afternoon:"Good afternoon",evening:"Good evening",night:"Good night",placeholder:"[Enter name]"},ru:{morning:"Доброе утро",afternoon:"Добрый день",evening:"Добрый вечер",night:"Доброй ночи",placeholder:"[Введите имя]"}}})();