(()=>{"use strict";const e=[{title:"Aqua Caelestis",src:"./assets/sounds/Aqua Caelestis.mp3",duration:"00:58"},{title:"River Flows In You",src:"./assets/sounds/River Flows In You.mp3",duration:"03:50"}];let t;function n(){const e=(new Date).toLocaleDateString("en-En",{weekday:"long",month:"long",day:"numeric"});document.querySelector(".date").textContent=e}window.addEventListener("load",(()=>{h(),function(e,t){for(const[n,o]of Object.entries(t.en))if(n===e)return document.querySelector(".greeting").textContent=t.en[`${e}`]}(o(),x),n()})),function e(){const t=(new Date).toLocaleTimeString();document.querySelector(".time").textContent=t,setTimeout(e,1e3),setTimeout(n,36e3)}();const o=()=>{const e=(new Date).getHours();return e<12?"morning":e<17?"afternoon":e<20?"evening":"night"},a=document.querySelector(".name");a.value=localStorage.getItem("name"),document.querySelector(".name").addEventListener("input",(function(){localStorage.setItem("name",a.value.trim())}));const c=(e,t)=>{const n=new Image;n.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${t}.jpg`,n.onload=()=>{document.body.style.backgroundImage=`url(${n.src})`}};c(o(),(20,t=1+Math.floor(20*Math.random()),t<10?"0"+t:t)),document.querySelector(".slide-prev").addEventListener("click",(function(){t=Number(t)-1,0===t?t=20:t<10&&(t="0"+t),c(o(),t)})),document.querySelector(".slide-next").addEventListener("click",(function(){t=Number(t)+1,21===t?t="01":t<10&&(t="0"+t),c(o(),t)}));const r=document.querySelector(".weather-icon"),s=document.querySelector(".temperature"),i=document.querySelector(".weather-description"),u=document.querySelector(".wind"),l=document.querySelector(".humidity");let d="https://api.openweathermap.org/data/2.5/weather?q=Minsk,BY&lang=en&appid=08f2a575dda978b9c539199e54df03b0&units=metric";async function m(e){const t=await fetch(e),n=await t.json();r.className="weather-icon owf";try{r.classList.add(`owf-${n.weather[0].id}`),s.textContent=`${Math.round(n.main.temp)}°C`,i.textContent=n.weather[0].description,u.textContent=n.wind.speed+" m/s",l.textContent=n.main.humidity+" %"}catch(e){s.classList.add("weather-error"),s.textContent="City name is incorrect!!",i.textContent="",u.textContent="",l.textContent=""}}m(d),document.querySelector(".city").addEventListener("change",(()=>{let e=document.querySelector(".city");d=""===e.value?"https://api.openweathermap.org/data/2.5/weather?q=Minsk&lang=en&appid=08f2a575dda978b9c539199e54df03b0&units=metric":`https://api.openweathermap.org/data/2.5/weather?q=${e.value}&lang=en&appid=08f2a575dda978b9c539199e54df03b0&units=metric`,m(d)}));const h=async()=>{const e=await fetch("./assets/quotesOfTheDay/data.json"),t=await e.json(),n=1+Math.floor(Math.random()*t.quotes.length-1);document.querySelector(".quote").textContent=t.quotes[`${n}`].text,document.querySelector(".author").textContent=t.quotes[`${n}`].author};document.querySelector(".change-quote").addEventListener("click",h);let p=0;const g=document.querySelector(".play"),y=document.querySelector(".play-prev"),q=document.querySelector(".play-next");function f(){g.classList.toggle("pause")}y.addEventListener("click",(function(){p--,p<0&&(p=e.length-1),g.classList.contains("pause")||f(),C.src=e[p].src,C.play(),L()})),q.addEventListener("click",(function(){p++,p>e.length-1&&(p=0),g.classList.contains("pause")||f(),C.src=e[p].src,C.play(),L()}));const w=document.querySelector(".play-list");e.forEach((e=>{const t=document.createElement("li");t.classList.add("play-item"),t.textContent=`${e.title} ${e.duration}`,w.append(t)}));const S=document.querySelector("ul > li:nth-child(1)"),v=document.querySelector("ul > li:nth-child(2)");function L(){S.classList.toggle("item-active"),v.classList.toggle("item-active")}S.classList.add("item-active");const C=new Audio;g.addEventListener("click",(function(){g.classList.contains("pause")?C.pause():(C.src=e[p].src,C.currentTime=0,C.play()),f()}));const x={en:{morning:"Good morning",afternoon:"Good afternoon",evening:"Good evening",night:"Good night",placeholder:"[Enter name]"},ru:{morning:"Доброе утро",afternoon:"Добрый день",evening:"Добрый вечер",night:"Доброй ночи",placeholder:"[Введите имя]"}}})();